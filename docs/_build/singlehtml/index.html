

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Remote Jobs 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="None" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="#">Remote Jobs 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-the-batchq-documentation">
<h1>Welcome to the BatchQ documentation!<a class="headerlink" href="#welcome-to-the-batchq-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-introduction"></span><div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>BatchQ is a set of classes written in Python which aims towards
automating all kinds of task. BatchQ was designed for interacting with
terminal application including Bash, SSH, SFTP, Maple, Mathematica,
Octave, Python and more. If for one or another reason your favorite
application is not supported BatchQ is easily extended to support more
programs.</p>
<div class="section" id="dependencies-and-compatibility">
<h3>Dependencies and Compatibility<a class="headerlink" href="#dependencies-and-compatibility" title="Permalink to this headline">¶</a></h3>
<p>Currently BatchQ only depends on the libraries shipped with Python. It
should therefore work out of the box.</p>
<p>Please note that at the present moment BatchQ has only been tested with
Python 2.7 on Mac OS X 10.6 and with Python 2.6.5 on Ubuntu 10.10.</p>
</div>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>There are currently two ways of installing BatchQ. Either you use setup
tools in which case you write</p>
<div class="highlight-bash"><div class="highlight"><pre>easy_install batchq
</pre></div>
</div>
<p>Alternatively you can download the latest version from GitHub and
install using setup.py</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> <span class="o">[</span>location/of/source<span class="o">]</span>
python setup.py install
</pre></div>
</div>
<p>That&#8217;s it.</p>
</div>
<div class="section" id="note-for-windows-users">
<h3>Note for Windows users<a class="headerlink" href="#note-for-windows-users" title="Permalink to this headline">¶</a></h3>
<p>This version of BatchQ is not yet supported on Windows
platforms. Developers are encouraged to extend the <tt class="docutils literal"><span class="pre">Process</span></tt>
module. Unfortunately, it seems that it is not possible to create a
pure Python solution and a terminal module should be written in C/C++.</p>
<p>For information on the structure of the code please consult the
developers introduction.</p>
</div>
</div>
<span id="document-user/intro"></span><div class="section" id="users-guide">
<h2>Users Guide<a class="headerlink" href="#users-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-the-command-line-tool">
<h3>Using the command line tool<a class="headerlink" href="#using-the-command-line-tool" title="Permalink to this headline">¶</a></h3>
<div class="section" id="available-modules">
<h4>Available modules<a class="headerlink" href="#available-modules" title="Permalink to this headline">¶</a></h4>
<p>The modules available to BatchQ will vary from system to system
depending on whether custom modules have been installed. Modules are
divided into four categories: functions, queues, pipelines and
templates.
The general syntax of the Q command is:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q <span class="o">[</span><span class="k">function</span>/queue/template<span class="o">]</span> <span class="o">[</span>arguments<span class="o">]</span>
</pre></div>
</div>
<p>The following functions are available through the console interface and
using Python and are standard modules included in BatchQ which provides
information about other modules</p>
<dl class="function">
<dt id="batchq.queues.nohup.list">
<tt class="descclassname">batchq.queues.nohup.</tt><tt class="descname">list</tt><big>(</big><em>module</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#batchq.queues.nohup.list" title="Permalink to this definition">¶</a></dt>
<dd><p>To list the available modules type:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q list <span class="o">[</span>argument<span class="o">]</span>
</pre></div>
</div>
<p>The optional list argument should be either of module classes (in
plural): functions, queues, pipelines or templates, i.e.,</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q list functions

Available functions:
  configuration
  list
  <span class="nb">help</span>
</pre></div>
</div>
<p>The list command can also be used without argument in which case it
produces a list of all available modules.</p>
<p>Note this function is not intended for Python use. Insted import
<tt class="docutils literal"><span class="pre">batchq.core.library.Library</span></tt> and access the members
<tt class="docutils literal"><span class="pre">functions</span></tt>, <tt class="docutils literal"><span class="pre">queues</span></tt>, <tt class="docutils literal"><span class="pre">templates</span></tt> and <tt class="docutils literal"><span class="pre">pipelines</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="batchq.queues.nohup.help">
<tt class="descclassname">batchq.queues.nohup.</tt><tt class="descname">help</tt><big>(</big><em>name</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#batchq.queues.nohup.help" title="Permalink to this definition">¶</a></dt>
<dd><p>The help function provides information, if available, about how a
module is used. The help function is invoked by writing</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q <span class="nb">help</span> <span class="o">[</span>module name<span class="o">]</span>
</pre></div>
</div>
<p>Writing</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q <span class="nb">help help</span>
</pre></div>
</div>
<p>gives information about the help module (i.e. the information you
are reading now).</p>
</dd></dl>

</div>
<div class="section" id="submitting-jobs">
<h4>Submitting jobs<a class="headerlink" href="#submitting-jobs" title="Permalink to this headline">¶</a></h4>
<p>The BatchQ command line interface provides you with two predefined
submission modules: nohup and lsf. Nohup is available on every</p>
</div>
<div class="section" id="creating-configuration-files">
<h4>Creating configuration files<a class="headerlink" href="#creating-configuration-files" title="Permalink to this headline">¶</a></h4>
<p>Once you have automated the submission process you want to store the
configuration parameters in a file in order to shorten the commands need
to operate on your submissions. Using the example from before, this can
be done as</p>
<div class="highlight-bash"><div class="highlight"><pre>q configuration brutus -i --username<span class="o">=</span>user --working_directory<span class="o">=</span><span class="s2">&quot;Submission&quot;</span> --command<span class="o">=</span><span class="s2">&quot;./script&quot;</span> --input_directory<span class="o">=</span><span class="s2">&quot;.&quot;</span> --port<span class="o">=</span>22 --server<span class="o">=</span><span class="s2">&quot;server.address.com&quot;</span>
</pre></div>
</div>
<p>The above code creates a configuration named &#8220;brutus&#8221; which contains the instructions for submitting your job on &#8220;server.address.com&#8221;.
Having created a configuration file you can now submit jobs and check status with</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q lsf submit@brutus
True
<span class="nv">$ </span>q lsf pid@brutus
12452
</pre></div>
</div>
<p>This keeps things short and simple. You will need to create a
configuration file for each server you want to submit your job. If for
one or another reason you temporarily want to change parameters of your
configuration, say the <tt class="docutils literal"><span class="pre">working_directory</span></tt>, this can be done by adding
a long parameter:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>q lsf submit@brutus --working_directory<span class="o">=</span><span class="s2">&quot;Submission2&quot;</span>
True
</pre></div>
</div>
</div>
<div class="section" id="retrieving-results">
<h4>Retrieving results<a class="headerlink" href="#retrieving-results" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="example-submitting-alps-jobs-using-nohup">
<h4>Example: Submitting ALPS jobs using nohup<a class="headerlink" href="#example-submitting-alps-jobs-using-nohup" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="example-submitting-alps-jobs-using-lsf">
<h4>Example: Submitting ALPS jobs using LSF<a class="headerlink" href="#example-submitting-alps-jobs-using-lsf" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="using-python">
<h3>Using Python<a class="headerlink" href="#using-python" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Submitting jobs<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id2">
<h4>Retrieving results<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id3">
<h4>Example: Submitting ALPS jobs using nohup<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id4">
<h4>Example: Submitting ALPS jobs using LSF<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
</div>
</div>
<div class="section" id="using-vistrails">
<h3>Using VisTrails<a class="headerlink" href="#using-vistrails" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>Submitting jobs<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id6">
<h4>Retrieving results<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id7">
<h4>Example: Submitting ALPS jobs using nohup<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="id8">
<h4>Example: Submitting ALPS jobs using LSF<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<span id="document-tutorial"></span><div class="section" id="developer-getting-started">
<h2>Developer: Getting started<a class="headerlink" href="#developer-getting-started" title="Permalink to this headline">¶</a></h2>
<p>The following section is meant as an instructive example of how BatchQ
can be used to automate simple tasks such as logging on to a server and
creating a configuration file. This first section is somewhat basic
stuff, but important, nevertheless, since BatchQ is designed to be
different from your normal Python programs in its structure. All the key
classes are shortly described here.</p>
<p>Imagine that you want to open Bash, go to  Documents in your home folder
and create a text file. With Bash commands for this would be</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/Documents
<span class="nb">echo </span>Hello world &gt; hello.txt
</pre></div>
</div>
<p>In this tutorial we will automate this task. If you are eager to use
BatchQ and do not really care about the
underlying functionality you probably should skip right away to one of
the examples of job automation:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="index.html#example-createfile1"><em>Example: CreateFile</em></a></li>
<li><a class="reference internal" href="index.html#example-createfile2"><em>Example: CreateFileAndDirectory</em></a></li>
<li><a class="reference internal" href="index.html#example-createfile3"><em>Example: CreateFileSSH</em></a></li>
</ol>
<p>However, it is strongly recommended that you go through all the examples
to get a basic understanding of the structure of BacthQ, how it works
and what you can do with it.</p>
<div class="section" id="processes-and-pipes">
<h3>Processes and Pipes<a class="headerlink" href="#processes-and-pipes" title="Permalink to this headline">¶</a></h3>
<p>While it is not necessary to understand the concepts of Processes and
Pipes in order to use BatchQ, it surely is useful in order to get a
picture of the whole structure of this package.
If you are familiar with <cite>Pexpect &lt;http://www.noah.org/wiki/pexpect&gt;</cite>
you are already familiar with some of the key concepts of BatchQ. BatchQ
provides a classes which have some similarities with Pexpect, yet
differs in a number of ways, the most significant being that BatchQ
communication with the terminal and expect functionality has been
seperated into two classes: Process and BasePipe. The Process class
provides methods for communicating directly with a process with no
intepretation of the output, whereas BasePipe implements output
interpretation and expect functionality.</p>
<p>Unlike Pexpect, Process does not apply which on the command passed as
the constructor argument and this command must be applied manually. In
the following example we open a instance of Bash writes &#8220;echo Hello
world&#8221; and read the output:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core.process</span> <span class="kn">import</span> <span class="n">Process</span>
<span class="kn">from</span> <span class="nn">batchq.core.utils</span> <span class="kn">import</span> <span class="n">which</span>

<span class="k">print</span> <span class="s">&quot;Starting bash found at&quot;</span><span class="p">,</span> <span class="n">which</span><span class="p">(</span><span class="s">&quot;bash&quot;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="s">&quot;bash&quot;</span><span class="p">))</span>

<span class="c"># Waits until we have the prompt</span>
<span class="k">while</span> <span class="n">x</span><span class="o">.</span><span class="n">getchar</span><span class="p">()</span> <span class="o">!=</span> <span class="s">&quot;$&quot;</span><span class="p">:</span> <span class="k">pass</span>

<span class="c"># Sends a command to the terminal</span>
<span class="n">x</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;echo Hello world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>

<span class="c"># And read the response</span>
<span class="k">print</span> <span class="s">&quot;&quot;</span>
<span class="k">print</span> <span class="s">&quot;The response is:&quot;</span>
<span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;&quot;</span>
<span class="k">print</span> <span class="s">&quot;The full buffer is:&quot;</span>
<span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">buffer</span>
<span class="n">x</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
</pre></div>
</div>
<p>This code produces following output</p>
<div class="highlight-python"><pre>Starting bash found at /bin/bash

The response is:
 echo Hello world
Hello world
bash-3.2$ 

The full buffer is:
[?1034hbash-3.2$ echo Hello world
Hello world
bash-3.2$ 
</pre>
</div>
<p>Here we are essentially communicating with the process at the most basic
level and we have to interpret every character returned. Especially, it
should be noted that escape characters are not interpreted in any way
and also that the response from x.read() contains the echo of the
command. Both of these features are somewhat inconvenient when ones to
communicate with a process.</p>
<p>The BasePipe class overcome the inconvenience of the Process class by
implementing expect</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core.process</span> <span class="kn">import</span> <span class="n">Process</span>
<span class="kn">from</span> <span class="nn">batchq.core.communication</span> <span class="kn">import</span> <span class="n">BasePipe</span>
<span class="kn">from</span> <span class="nn">batchq.core.utils</span> <span class="kn">import</span> <span class="n">which</span>

<span class="k">class</span> <span class="nc">BashTerminal</span><span class="p">(</span><span class="n">BasePipe</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pipe</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="s">&quot;bash&quot;</span><span class="p">),</span> <span class="n">terminal_required</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">expect_token</span> <span class="o">=</span><span class="s">&quot;#--&gt;&quot;</span>
        <span class="n">submit_token</span> <span class="o">=</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">initiate_pipe</span><span class="o">=</span><span class="bp">True</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BashTerminal</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">expect_token</span><span class="p">,</span> <span class="n">submit_token</span><span class="p">,</span> <span class="n">initiate_pipe</span><span class="p">)</span>        


    <span class="k">def</span> <span class="nf">initiate_pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pipe</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;export PS1=</span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expect_token</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">consume_output</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pipe</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_submit_token</span><span class="p">)</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">consume_output</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s">&quot;echo </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="n">msg</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">BashTerminal</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Response: &quot;</span>
<span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;&quot;</span>
<span class="k">print</span> <span class="s">&quot;VT100 Buffer:&quot;</span>
<span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">buffer</span>
<span class="k">print</span> <span class="s">&quot;&quot;</span>
<span class="k">print</span> <span class="s">&quot;Pipe Buffer:&quot;</span>
<span class="k">print</span> <span class="n">x</span><span class="o">.</span><span class="n">pipe_buffer</span>
</pre></div>
</div>
<p>which produces</p>
<div class="highlight-python"><pre>Response: 
Hello world


VT100 Buffer:
export PS1="#--&gt;"bash-3.2$ export PS1="#--&gt;"
#--&gt;echo Hello world
Hello world
#--&gt;

Pipe Buffer:
export PS1="#--&gt;"[?1034hbash-3.2$ export PS1="#--&gt;"
#--&gt;echo Hello world
Hello world
#--&gt;
</pre>
</div>
<p>The properties pipe and pipe_buffer are references to the Process object
and the Process.buffer, respectively. As with the first example we see
that the process buffer contains VT100 characters. However, the BasePipe
uses a VT100 interpreter to ensure that the output in BasePipe.buffer
looks like what you would see if you where interacting with a terminal
yourself. This is important as it eases the development process of
pipelines.</p>
<p>The separation of Process and BasePipe ensures that unsupported
platforms in the future can be supported. In order to make BatchQ work
on unsupported system (i.e. Windows at the moment) one has to write a
new Process module for the platform. Once a Process class exists
BasePipe implements all the features needed to efficiently communicate
with an instance of a process.</p>
<div class="section" id="pipelines">
<h4>Pipelines<a class="headerlink" href="#pipelines" title="Permalink to this headline">¶</a></h4>
<p>Pipelines are subclasses of BasePipe which are intended for a specific
program like the example in the previous section. BatchQ is shipped with
many different pipelines found in batchq.pipelines which among others
contain BashTerminal, SSHTerminal and SFTPTerminal. The SSHTerminal
subclasses BashTerminal and replaces the process instance with an SSH
instance. This in term means that any program written for BashTerminal
works with SSHTerminal which is handy as you might want to develop a
program locally and once working, deploy it using SSH.</p>
<p>We are going to give an example of how this is done in the following
code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.pipelines.shell.bash</span> <span class="kn">import</span> <span class="n">BashTerminal</span>

<span class="k">class</span> <span class="nc">CreateFileBash</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">directory</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directory</span> <span class="o">=</span> <span class="n">directory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">command</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span> <span class="o">=</span> <span class="n">BashTerminal</span><span class="p">()</span>        

    <span class="k">def</span> <span class="nf">create_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">home</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">home</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directory</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">create_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_dir</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="n">CreateFileBash</span><span class="p">(</span><span class="s">&quot;Documents/DEMO_Bash&quot;</span><span class="p">,</span> <span class="s">&quot;echo hello new directory &gt; hello.txt&quot;</span><span class="p">)</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="s">&quot;echo Hello Python world &gt; hello.txt&quot;</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">create_file</span><span class="p">()</span>
</pre></div>
</div>
<p>With this code we have solved the initial problem, and moreover, the
code is easily extended to support SSH by subclasssing
CreateFileBash and replacing the terminal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.pipelines.shell.ssh</span> <span class="kn">import</span> <span class="n">SSHTerminal</span>

<span class="k">class</span> <span class="nc">CreateFileSSH</span><span class="p">(</span><span class="n">CreateFileBash</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">directory</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">server</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terminal</span> <span class="o">=</span> <span class="n">SSHTerminal</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>        
        <span class="nb">super</span><span class="p">(</span><span class="n">CreateFileSSH</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">getpass</span>
    <span class="n">user</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Username:&quot;</span><span class="p">)</span>
    <span class="n">pasw</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">()</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="n">CreateFileSSH</span><span class="p">(</span><span class="s">&quot;Documents/DEMO_SSH&quot;</span><span class="p">,</span> <span class="s">&quot;echo Hello SSH &gt; hello.txt&quot;</span><span class="p">,</span> <span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="n">user</span><span class="p">,</span><span class="n">pasw</span><span class="p">)</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">create_file</span><span class="p">()</span>
</pre></div>
</div>
<p>This clearly demonstrates the power of using a standards for the various
terminal implementations. The function calls used here would be also be
possible to implement on a Windows machine, and thus, in this way we
have a universal script that works independent of the system it is
on.</p>
</div>
</div>
<div class="section" id="batchq-basics">
<h3>BatchQ Basics<a class="headerlink" href="#batchq-basics" title="Permalink to this headline">¶</a></h3>
<p>Next to the pipelines and processes, the BatchQ module contains
five other important classes: BatchQ, WildCard, Property, Controller and
Function.
BatchQ is the general model which your class should inherit. It provides
the functionality for manging pipelines, properties, and function
queues. In short, any BatchQ script is a class that subclasses BatchQ
and have one or more of WildCard, Property, Controller and
Function defined. The general structure of a BatchQ class is</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">SubmissionModel</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">param1</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="s">&quot;default value 1&quot;</span><span class="p">)</span>
    <span class="n">param2</span> <span class="o">=</span> <span class="n">Property</span><span class="p">(</span><span class="s">&quot;default value 2&quot;</span><span class="p">)</span>
    <span class="c"># ...</span>

    <span class="n">terminal1</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">(</span><span class="n">Class1</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
    
    <span class="n">t1_fnc1</span> <span class="o">=</span> <span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">a</span><span class="p">()</span><span class="o">.</span><span class="n">b</span><span class="p">()</span>
    <span class="n">t1_fnc2</span> <span class="o">=</span> <span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">c</span><span class="p">()</span><span class="o">.</span><span class="n">d</span><span class="p">()</span>
    <span class="c"># ...</span>

    <span class="n">terminal2</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">(</span><span class="n">Class2</span><span class="p">,</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

    <span class="n">t2_fnc1</span> <span class="o">=</span> <span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="n">param1</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">param2</span><span class="p">)</span>
    <span class="n">t2_fnc2</span> <span class="o">=</span> <span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">g</span><span class="p">()</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
    <span class="c"># ...</span>

    <span class="k">def</span> <span class="nf">userdef1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># ...</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">userdef2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># ...</span>
        <span class="k">pass</span>
</pre></div>
</td></tr></table></div>
<p>Properties are input parameters for the automation model you are
creating, controllers are pipeline holders and functions are queues of
function calls that will be invoked on the class through the
controller. Thus, calling <tt class="docutils literal"><span class="pre">SubmissionModel().t1_fnc2()</span></tt> would result in
two function calls: <tt class="docutils literal"><span class="pre">instance.a()</span></tt> and <tt class="docutils literal"><span class="pre">instance.b()</span></tt> with
<tt class="docutils literal"><span class="pre">instance</span> <span class="pre">=</span> <span class="pre">Class1(arg1,</span> <span class="pre">arg2,</span> <span class="pre">...)</span></tt>. It is possible to use
the parameters as function arguments as done in line 14. Upon
realisation of the function calls <tt class="docutils literal"><span class="pre">param1</span></tt> and <tt class="docutils literal"><span class="pre">param2</span></tt> are
fetched. They may be changed using the normal assignment operator before
the function call to change their value. Get an idea how this works we
will in the following go through some simple examples.</p>
<div class="section" id="example-hello-world">
<h4>Example: Hello world<a class="headerlink" href="#example-hello-world" title="Permalink to this headline">¶</a></h4>
<p>In this example we demonstrate how a function queue is invoked on the
pipeline:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>
<span class="k">class</span> <span class="nc">Pipeline</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;Hello world&quot;</span>

    <span class="k">def</span> <span class="nf">hello_batchq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;Hello BatchQ&quot;</span>

<span class="k">class</span> <span class="nc">HelloWorld</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">Pipeline</span><span class="p">)</span>
    <span class="n">fnc</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">hello_world</span><span class="p">()</span><span class="o">.</span><span class="n">hello_batchq</span><span class="p">()</span>

<span class="n">instance</span> <span class="o">=</span> <span class="n">HelloWorld</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">fnc</span><span class="p">()</span>
</pre></div>
</div>
<p>This code results in following output</p>
<div class="highlight-python"><pre>Hello world
Hello BatchQ
</pre>
</div>
<p>What happens is:</p>
<ol class="arabic simple">
<li>A controller is defined which creates an instance <tt class="docutils literal"><span class="pre">pipe</span></tt> of the
Pipeline class.</li>
<li>Next a function <tt class="docutils literal"><span class="pre">fnc</span></tt> is defined as the sequence of function calls
&#8221;.hello_world(), .hello_batchq()&#8221;</li>
<li>When <tt class="docutils literal"><span class="pre">fnc</span></tt> is called two function calls, <tt class="docutils literal"><span class="pre">pipe.hello_world()</span></tt> and
<tt class="docutils literal"><span class="pre">pipe.hello_batchq()</span></tt> are made.</li>
</ol>
<p>It is worth noting that the function queue is abstract, meaning that the
queue accept any calls - errors will first occur when <tt class="docutils literal"><span class="pre">instance.fnc()</span></tt>
is called.</p>
</div>
<div class="section" id="example-hello-parameter">
<h4>Example: Hello parameter<a class="headerlink" href="#example-hello-parameter" title="Permalink to this headline">¶</a></h4>
<p>Next we extend the previous program introducing a parameter</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>
<span class="k">class</span> <span class="nc">Pipeline</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">who</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="n">who</span>


<span class="k">class</span> <span class="nc">HelloParam</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">(</span><span class="s">&quot;Parameter&quot;</span><span class="p">)</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">Pipeline</span><span class="p">)</span>
    <span class="n">fnc</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">HelloParam</span><span class="p">()</span><span class="o">.</span><span class="n">fnc</span><span class="p">()</span>
<span class="n">ins1</span> <span class="o">=</span> <span class="n">HelloParam</span><span class="p">(</span><span class="s">&quot;Second Instance&quot;</span><span class="p">)</span>
<span class="n">ins2</span> <span class="o">=</span> <span class="n">HelloParam</span><span class="p">()</span>
<span class="n">ins2</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Property&quot;</span>
<span class="n">ins2</span><span class="o">.</span><span class="n">fnc</span><span class="p">()</span>
<span class="n">ins1</span><span class="o">.</span><span class="n">fnc</span><span class="p">()</span>
</pre></div>
</div>
<p>Three lines of output are produces here:</p>
<div class="highlight-python"><pre>Hello Parameter
Hello Property
Hello Second Instance
</pre>
</div>
<p>each corresponding to a call to <tt class="docutils literal"><span class="pre">fnc()</span></tt>. This code shows how a
parameter can be passed on to a function call. It is important to notice
that the parameter can be changed even after creating an instance of an
object and that properties are <em>not</em> static members of the class,
i.e. different instances may have different values. Finally, it is worth
noticing that properties becomes constructor arguments of the BatchQ
subclass.</p>
</div>
<div class="section" id="example-hello-error-i">
<h4>Example: Hello error I<a class="headerlink" href="#example-hello-error-i" title="Permalink to this headline">¶</a></h4>
<p>The default of BatchQ is that all errors raised are suppressed by the
Function queue. You can, however, force BatchQ to raise errors by
setting the parameter <tt class="docutils literal"><span class="pre">verbose</span></tt> of the function object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>
<span class="k">class</span> <span class="nc">ErrorTest</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="n">fnc1</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">hello_world</span><span class="p">(</span><span class="s">&quot;Hello error&quot;</span><span class="p">)</span>
    <span class="n">fnc2</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">hello_world</span><span class="p">(</span><span class="s">&quot;Hello error&quot;</span><span class="p">)</span>

<span class="n">instance</span> <span class="o">=</span> <span class="n">ErrorTest</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">fnc1</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;An error occured in fnc1&quot;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">instance</span><span class="o">.</span><span class="n">fnc2</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;An error occured in fnc2&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-hello-error-ii">
<h4>Example: Hello error II<a class="headerlink" href="#example-hello-error-ii" title="Permalink to this headline">¶</a></h4>
<p>The BatchQ function also is given the possibility to raise errors. It is
done in the following way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>

<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="n">fnc1</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">Qthrow</span><span class="p">(</span><span class="n">exception</span> <span class="o">=</span> <span class="ne">StandardError</span><span class="p">(</span><span class="s">&quot;Custom error class&quot;</span><span class="p">))</span>
    <span class="n">fnc2</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">Qthrow</span><span class="p">(</span><span class="s">&quot;Standard error&quot;</span><span class="p">)</span>

<span class="n">Model</span><span class="p">()</span><span class="o">.</span><span class="n">fnc1</span><span class="p">()</span>
<span class="n">Model</span><span class="p">()</span><span class="o">.</span><span class="n">fnc2</span><span class="p">()</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">throw</span></tt> function ignores the <tt class="docutils literal"><span class="pre">verbose</span></tt> option on the <tt class="docutils literal"><span class="pre">Function</span></tt>
object and is always thrown.</p>
</div>
<div class="section" id="example-function-inheritance">
<h4>Example: Function Inheritance<a class="headerlink" href="#example-function-inheritance" title="Permalink to this headline">¶</a></h4>
<p>Common jobs such as changing into a working directory is often done in
several procedures when making a batch script. For this reason BatchQ
allows you to inherit earlier defined functions</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>

<span class="k">class</span> <span class="nc">Pipe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">msg</span>

<span class="k">class</span> <span class="nc">Inherits</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">Pipe</span><span class="p">)</span>
    <span class="n">fnc1</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">)</span>
    <span class="n">fnc2</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">fnc1</span><span class="p">)</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s">&quot;Hello world II&quot;</span><span class="p">)</span>

<span class="n">Inherits</span><span class="p">()</span><span class="o">.</span><span class="n">fnc2</span><span class="p">()</span>
</pre></div>
</div>
<p>Upon inheritance the entire queue from <tt class="docutils literal"><span class="pre">fnc1</span></tt> is copied meaning that
the result stack of <tt class="docutils literal"><span class="pre">fnc1</span></tt> is not populated as it would have been with
a function call.</p>
</div>
<div class="section" id="example-function-calls">
<h4>Example: Function Calls<a class="headerlink" href="#example-function-calls" title="Permalink to this headline">¶</a></h4>
<p>Often it is useful to divide jobs into subprocedures. For this purpose
it can often be necessary to do function calls. Function calls are also
allowed with  BatchQ</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>

<span class="k">class</span> <span class="nc">Pipe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="n">msg</span>

<span class="k">class</span> <span class="nc">CallIt1</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">Pipe</span><span class="p">)</span>
    <span class="n">fnc1</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">)</span>
    <span class="n">fnc2</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s">&quot;Before call&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">Qcall</span><span class="p">(</span><span class="n">fnc1</span><span class="p">)</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s">&quot;After call&quot;</span><span class="p">)</span> \
        <span class="o">.</span><span class="n">Qprint_stack</span><span class="p">()</span>

<span class="n">CallIt1</span><span class="p">()</span><span class="o">.</span><span class="n">fnc2</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;&quot;</span>

<span class="k">class</span> <span class="nc">CallIt2</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">()</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">Pipe</span><span class="p">)</span>
    <span class="n">fnc1</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">)</span>
    <span class="n">fnc2</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span><span class="o">.</span><span class="n">Qjoin</span><span class="p">(</span><span class="n">fnc1</span><span class="p">,</span> <span class="s">&quot; II&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>

<span class="n">CallIt2</span><span class="p">()</span><span class="o">.</span><span class="n">fnc2</span><span class="p">()</span>
</pre></div>
</div>
<p>One important thing to note here is that it is the Function object that
is passed on as argument and not Function(). The reason is that we are
creating a reference model, the queue, and not performing an actual call
during the construction of the class.</p>
</div>
<div class="section" id="wildcards">
<h4>Wildcards<a class="headerlink" href="#wildcards" title="Permalink to this headline">¶</a></h4>
<p>TODO: Explain the concept of a wildcard</p>
<p>In the following example we define five different wild cards.
The first wildcard _ pops the result stack and the second _r pops the
result stack in reverse order - that is, if _, _ produces &#8220;a&#8221;, &#8220;b&#8221;, then
_r, _r produces &#8220;b&#8221;,&#8221;a&#8221;.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>

<span class="k">class</span> <span class="nc">TestPipe4</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">fnc1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="s">&quot;Function 1&quot;</span>
    <span class="n">fnc2</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="s">&quot;Function 2&quot;</span>
    <span class="n">fnc3</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="s">&quot;Function 3&quot;</span>
    <span class="n">fnc4</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="s">&quot;Function 4&quot;</span>
    <span class="n">fnc5</span> <span class="o">=</span> <span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="s">&quot;Function 5&quot;</span>

    <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;1: &quot;</span><span class="p">,</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s">&quot;Display function I&quot;</span>

    <span class="k">def</span> <span class="nf">display2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg1</span><span class="p">,</span> <span class="n">msg2</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;2: &quot;</span><span class="p">,</span> <span class="n">msg1</span><span class="p">,</span> <span class="n">msg2</span>
        <span class="k">return</span> <span class="s">&quot;Display Function II&quot;</span>


<span class="k">class</span> <span class="nc">Q6</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">()</span>
    <span class="n">_r</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">(</span><span class="n">reverse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">_l</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">(</span><span class="n">lifo</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
    <span class="n">_lr</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">(</span><span class="n">lifo</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">reverse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
    <span class="n">_3</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">(</span><span class="n">select</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>

    <span class="n">pipe</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">TestPipe4</span><span class="p">)</span>

    <span class="n">call_fnc</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span> \
        <span class="o">.</span><span class="n">fnc1</span><span class="p">()</span><span class="o">.</span><span class="n">fnc2</span><span class="p">()</span><span class="o">.</span><span class="n">fnc3</span><span class="p">()</span> \
        <span class="o">.</span><span class="n">fnc4</span><span class="p">()</span><span class="o">.</span><span class="n">fnc5</span><span class="p">()</span> 

    <span class="n">test1</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">call_fnc</span><span class="p">)</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
    <span class="n">test2</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">call_fnc</span><span class="p">)</span><span class="o">.</span><span class="n">display2</span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">)</span>
    <span class="n">test3</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">call_fnc</span><span class="p">)</span><span class="o">.</span><span class="n">display2</span><span class="p">(</span><span class="n">_r</span><span class="p">,</span><span class="n">_r</span><span class="p">)</span>
    <span class="n">test4</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">call_fnc</span><span class="p">)</span><span class="o">.</span><span class="n">display2</span><span class="p">(</span><span class="n">_l</span><span class="p">,</span><span class="n">_l</span><span class="p">)</span>
    <span class="n">test5</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">call_fnc</span><span class="p">)</span><span class="o">.</span><span class="n">display2</span><span class="p">(</span><span class="n">_lr</span><span class="p">,</span><span class="n">_lr</span><span class="p">)</span>
    <span class="n">test6</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">call_fnc</span><span class="p">)</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">_3</span><span class="p">)</span>


<span class="n">instance</span> <span class="o">=</span> <span class="n">Q6</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">test1</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">test2</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">test3</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">test4</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">test5</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">test6</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="example-createfile">
<span id="example-createfile1"></span><h4>Example: CreateFile<a class="headerlink" href="#example-createfile" title="Permalink to this headline">¶</a></h4>
<p>At this point we have significantly insight into the structure of BatchQ
to write a realisation of the initial problem: creating a script that
creates a directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>
<span class="kn">from</span> <span class="nn">batchq.pipelines.shell.bash</span> <span class="kn">import</span> <span class="n">BashTerminal</span>
<span class="kn">from</span> <span class="nn">batchq.pipelines.shell.ssh</span> <span class="kn">import</span> <span class="n">SSHTerminal</span>

<span class="k">class</span> <span class="nc">CreateFile1</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
  <span class="n">_</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">()</span>

  <span class="n">directory</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>
  <span class="n">command</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>

  <span class="n">terminal</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span><span class="n">BashTerminal</span><span class="p">)</span>

  <span class="n">create_file</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span> \
      <span class="o">.</span><span class="n">home</span><span class="p">()</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> \
      <span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>

  <span class="n">instance</span> <span class="o">=</span> <span class="n">CreateFile1</span><span class="p">(</span><span class="s">&quot;Documents&quot;</span><span class="p">,</span> <span class="s">&quot;echo hello world &gt; hello.txt&quot;</span><span class="p">)</span>
  <span class="n">instance</span><span class="o">.</span><span class="n">create_file</span><span class="p">()</span>
</pre></div>
</div>
<p>While this code is short and very easy to read, it obviously have shortcomings:
The code will fail if the directory does not already exist. In order to
resolve this issue we need to use some built-in functions to do simple
if statements.</p>
</div>
<div class="section" id="built-in-do-function">
<h4>Built-in Do-function<a class="headerlink" href="#built-in-do-function" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="example-createfileanddirectory">
<span id="example-createfile2"></span><h4>Example: CreateFileAndDirectory<a class="headerlink" href="#example-createfileanddirectory" title="Permalink to this headline">¶</a></h4>
<p>With the <tt class="docutils literal"><span class="pre">do</span></tt> we can now extend our previous script and ensure that
the directory is created if it does not exist:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>
<span class="kn">from</span> <span class="nn">batchq.pipelines.shell.bash</span> <span class="kn">import</span> <span class="n">BashTerminal</span>

<span class="k">class</span> <span class="nc">CreateFileAndDirectory</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">()</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>
    <span class="n">command</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>

    <span class="n">terminal</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">BashTerminal</span><span class="p">)</span>

    <span class="n">create_dir</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">()</span> \
        <span class="o">.</span><span class="n">home</span><span class="p">()</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> \
        <span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span><span class="o">.</span><span class="n">Qdon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span> \
        <span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
    
    <span class="n">create_file</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">create_dir</span><span class="p">)</span> \
        <span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="example-short-version">
<h4>Example: Short version<a class="headerlink" href="#example-short-version" title="Permalink to this headline">¶</a></h4>
<p>While the previous code is pretty taking into consideration what it
does it can still be made shorter. One of the neat features of function
queues are that you can predefine certain patterns - as for instance
creating a directory in your home directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>
<span class="kn">from</span> <span class="nn">batchq.pipelines.shell.bash</span> <span class="kn">import</span> <span class="n">BashTerminal</span>
<span class="kn">from</span> <span class="nn">batchq.shortcuts.shell</span> <span class="kn">import</span> <span class="n">home_create_dir</span><span class="p">,</span> <span class="n">send_command</span>

<span class="k">class</span> <span class="nc">CreateFileShort</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">WildCard</span><span class="p">()</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>
    <span class="n">command</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>

    <span class="n">terminal</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">BashTerminal</span><span class="p">)</span>

    <span class="n">create_dir</span> <span class="o">=</span> <span class="n">home_create_dir</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span><span class="n">_</span><span class="p">)</span>
    <span class="n">create_file</span> <span class="o">=</span> <span class="n">send_command</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">inherits</span> <span class="o">=</span> <span class="n">create_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="overwriting-controllers">
<h4>Overwriting Controllers<a class="headerlink" href="#overwriting-controllers" title="Permalink to this headline">¶</a></h4>
<p>A key feature of BatchQ is that you can overwrite controllers from your
previous models. This means that once you have made a model for one
pipeline you can use it on another one by simply overwriting the
controller. In the following we overwrite the controller for one
pipeline with a new controller for another pipeline:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.core</span> <span class="kn">import</span> <span class="n">batch</span>

<span class="k">class</span> <span class="nc">Pipe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">msg</span>

<span class="k">class</span> <span class="nc">Model1</span><span class="p">(</span><span class="n">batch</span><span class="o">.</span><span class="n">BatchQ</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">Pipe</span><span class="p">)</span>
    <span class="n">fnc</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Function</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">hello</span><span class="p">(</span><span class="s">&quot;Hello from FNC&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">ReplacementPipe</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>       
        <span class="k">print</span> <span class="n">msg</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">Model2</span><span class="p">(</span><span class="n">Model1</span><span class="p">):</span>
    <span class="n">ctrl</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">ReplacementPipe</span><span class="p">)</span>

<span class="n">Model1</span><span class="p">()</span><span class="o">.</span><span class="n">fnc</span><span class="p">()</span>
<span class="n">Model2</span><span class="p">()</span><span class="o">.</span><span class="n">fnc</span><span class="p">()</span>
</pre></div>
</div>
<p>The replacement pipeline reverses the string and the code produces the
following output</p>
<div class="highlight-python"><pre>Hello from FNC
CNF morf olleH
</pre>
</div>
</div>
<div class="section" id="example-createfilessh">
<span id="example-createfile3"></span><h4>Example: CreateFileSSH<a class="headerlink" href="#example-createfilessh" title="Permalink to this headline">¶</a></h4>
<p>Clearly, the previous example comes in handy when we want to extent our
script to support SSH:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">batchq.pipelines.shell.ssh</span> <span class="kn">import</span> <span class="n">SSHTerminal</span>
<span class="kn">import</span> <span class="nn">getpass</span>

<span class="k">class</span> <span class="nc">CreateFileSSH</span><span class="p">(</span><span class="n">CreateFileShort</span><span class="p">):</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Property</span><span class="p">()</span>
    <span class="n">terminal</span> <span class="o">=</span> <span class="n">batch</span><span class="o">.</span><span class="n">Controller</span><span class="p">(</span><span class="n">SSHTerminal</span><span class="p">,</span> <span class="n">server</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>

<span class="n">user</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Username:&quot;</span><span class="p">)</span>
<span class="n">pasw</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">()</span>
<span class="n">instance</span> <span class="o">=</span> <span class="n">CreateFileSSH</span><span class="p">(</span><span class="s">&quot;Documents/DEMO_SSH&quot;</span><span class="p">,</span> <span class="s">&quot;echo Hello SSH &gt; hello.txt&quot;</span><span class="p">,</span> <span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="n">user</span><span class="p">,</span><span class="n">pasw</span><span class="p">)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">create_file</span><span class="p">()</span>
</pre></div>
</div>
<p>The three new properties are appended to the constructor arguments.</p>
</div>
</div>
</div>
<span id="document-tutorial_nhup"></span><div class="section" id="tutorial-nohup-remote-submission">
<h2>Tutorial: nohup Remote Submission<a class="headerlink" href="#tutorial-nohup-remote-submission" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial we are going to write a submission module using
nohup. Actually, we will not use nohup itself as this is a rather
unstable application, but instead we will use the bash equivalent
<tt class="docutils literal"><span class="pre">([command]</span> <span class="pre">)</span></tt> as this is a much more stable method.</p>
<div class="section" id="basic-functionality">
<h3>Basic functionality<a class="headerlink" href="#basic-functionality" title="Permalink to this headline">¶</a></h3>
<p>By now we have already written the first many small classes using
BatchQ and therefore, the only thing we really need to know is which
parameters the class should depend on and which methods we should
implement.</p>
<p>A nohup module should take a command as input
parameter as well as a working directory. It should implement the
methods startjob, isrunning and clean. Subsequently, these function
would need a function that enters the working directory and a function
that checks whether a process is running. The implementation is straight
forward:</p>
<div class="highlight-python"><pre>from batchq.core.library import Library
from batchq.core import batch
from batchq.pipelines.shell.bash import BashTerminal
from batchq.shortcuts.shell import home_create_dir, send_command

class NoHUPStart(batch.BatchQ):
    _r = batch.WildCard(reverse = True)
    _ = batch.WildCard()

    input_directory = batch.Property()
    working_directory = batch.Property()
    command = batch.Property()

    terminal = batch.Controller(BashTerminal)

    workdir = batch.Function() \
        .home().chdir(_).exists(working_directory) \
        .don(1).mkdir(working_directory).chdir(working_directory)

    _set_copy_dirs = batch.Function(workdir, verbose=False) \
        .pjoin(input_directory, "/*").pjoin(working_directory, "/").cp(_r, _r) \

    transfer_infiles = batch.Function(_set_copy_dirs , verbose=False)
        .cp(_r, _r).don(1).throw("Failed to transfer files.")

    transfer_outfiles = batch.Function(_set_copy_dirs, verbose=False) \
        .cp(_, _).don(1).throw("Failed to transfer files.")

    startjob = batch.Function(workdir) \
        .join("(", command, " &gt; .bacthq.output &amp; echo $! &gt; .batchq.pid )").send_command(_) 

    transfer_startjob = batch.Function(transfer_infiles) \
        .call(startjob)


    getpid = batch.Function(workdir) \
        .cat(".batchq.pid")

    isrunning = batch.Function(get_pid) \
        .isrunning(_)

    wasstarted = batch.Function(workdir) \
        .exists(".batchq.output")

    log = batch.Function(wasstarted) \
        .do(1).cat(".batchq.output")

    clean = batch.Function(wasstarted) \
        .do(1).rm(".batchq.*", force = True)


Library.queues.register("nohup",NoHUPStart)
if __name__=="__main__":
    dir1 = raw_input("Enter a input directory: ")
    dir2 = raw_input("Enter a output directory: ")
    cmd = raw_input("Enter a command: ")
    x = NoHUPStart(dir1, dir2, cmd)
    
    while True:
        x.interact()
#    print "1) Transfer input files"
#    print "2) Submit job"
#    print "3) Transfer input and submit job"

#    print "4) Check if it was started"
#    print "5) Check if it is running"
#    print "6) Transfer output files"
#    print "7) Show log"
#    print "8) Clean up"

#    print "Q) Quit"
#    print ""
#    choice = raw_input("# :")
    
</pre>
</div>
</div>
<div class="section" id="full-functionality">
<h3>Full functionality<a class="headerlink" href="#full-functionality" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<span id="document-tutorial_bsub"></span><div class="section" id="tutorial-lsf-remote-submission">
<h2>Tutorial: LSF Remote Submission<a class="headerlink" href="#tutorial-lsf-remote-submission" title="Permalink to this headline">¶</a></h2>
</div>
<span id="document-webinterface"></span><div class="section" id="remote-jobs-using-django">
<h2>Remote Jobs using Django<a class="headerlink" href="#remote-jobs-using-django" title="Permalink to this headline">¶</a></h2>
<p>The following briefly explains how to put up a local Django webinterface
and how to synchronise it with jobs submitted to a server. No particular
knowledge of Django is required, except if you wish to setup a permanent
web server for keeping track of jobs states.</p>
<div class="section" id="dependencies-and-preliminary-notes">
<h3>Dependencies and preliminary notes<a class="headerlink" href="#dependencies-and-preliminary-notes" title="Permalink to this headline">¶</a></h3>
<p>The web interface depends on Django 1.3 (or newer) which can be
obtained using easy_install as follows</p>
<div class="highlight-bash"><div class="highlight"><pre>easy_install django
</pre></div>
</div>
<p>The web interface can be located in any directory. We will in the following
assume that it is located in ~/remoteweb/.</p>
</div>
<div class="section" id="starting-a-local-server">
<h3>Starting a local server<a class="headerlink" href="#starting-a-local-server" title="Permalink to this headline">¶</a></h3>
<p>Open bash and execute following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> ~/remoteweb/
python manage.py syncdb
python manage.py runserver
</pre></div>
</div>
<p>This will start the local web server which can be accessed
on the address <a class="reference external" href="http://localhost:8000/">http://localhost:8000/</a>. In order to synchronise the jobs
from a given server simply type</p>
<div class="highlight-bash"><div class="highlight"><pre>python mange.py update_database <span class="o">[</span>appName <span class="o">[</span>server<span class="o">[</span>:port<span class="o">]]]</span>
</pre></div>
</div>
<p>where [appName] is &#8216;remoteJobs-vistrails&#8217; if you are using VisTrails with
the standard settings and [server] is the name of the server. If no
server is supplied the script will assume that you wish to work on the
local machine. If a server name is supplied the script will prompt for
username and password. After entering these the database is updated with
the jobs which has previously been submitted to the server.</p>
</div>
<div class="section" id="webinterface">
<h3>Webinterface<a class="headerlink" href="#webinterface" title="Permalink to this headline">¶</a></h3>
<p>In order to access the web interface go to <a class="reference external" href="http://localhost:8000/">http://localhost:8000/</a> in
your favorite browser. A list of should now appear</p>
<p>which has been optimised for running on mobile units. From the
webinterface you can see the status of your jobs, cancel or
resubmit them. The changes take effect whenever</p>
<div class="highlight-bash"><div class="highlight"><pre>python mange.py update_database <span class="o">[</span>appName <span class="o">[</span>server<span class="o">[</span>:port<span class="o">]]]</span>
</pre></div>
</div>
<p>has been executed.</p>
</div>
</div>
<div class="section" id="remote-jobs-with-custom-database">
<h2>Remote Jobs with custom database<a class="headerlink" href="#remote-jobs-with-custom-database" title="Permalink to this headline">¶</a></h2>
<p>We will in the following assume that you have a access to a database
with predefined tables and columns. In this part of the document we will
describe how to poll the information from the server and add it to a
database.</p>
<div class="section" id="pulling-settings-entries">
<h3>Pulling settings entries<a class="headerlink" href="#pulling-settings-entries" title="Permalink to this headline">¶</a></h3>
<p>Pulling the submitted jobs from a server is done using the
RemoteJobSubmitter module.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">remotejobs</span> <span class="kn">import</span> <span class="n">RemoteJobSubmitter</span>
<span class="kn">import</span> <span class="nn">getpass</span>

<span class="k">class</span> <span class="nc">Database</span><span class="p">:</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   This object will represent our database.</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">def</span> <span class="nf">get_record</span><span class="p">(</span><span class="n">primary_key</span><span class="p">):</span>
       <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       This methods returns a record as a dictionary</span>
<span class="sd">       if it is found in the database and None else.</span>
<span class="sd">       &quot;&quot;&quot;</span>
       <span class="k">pass</span>

   <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">primary_key</span><span class="p">,</span> <span class="n">record_dict</span><span class="p">):</span>
       <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       This method updates the record with the primary key as</span>
<span class="sd">       primary_key by setting key = &#39;val&#39; for key, val in record_dict.</span>
<span class="sd">       &quot;&quot;&quot;</span>
       <span class="k">pass</span>

   <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="n">primary_key</span><span class="p">,</span> <span class="n">record_dict</span><span class="p">):</span>
       <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">       This method inserts a record with the primary key as</span>
<span class="sd">       primary_key by setting key = &#39;val&#39; for key, val in record_dict.</span>
<span class="sd">       &quot;&quot;&quot;</span>
       <span class="k">pass</span>

<span class="n">server</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">22</span>
<span class="n">username</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getuser</span><span class="p">()</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">()</span>

<span class="c"># We will update to columns in the database: &quot;last_updated&quot; and &quot;id&quot;.</span>
<span class="c"># The following dictionary will be used to map the settings entries</span>
<span class="c"># into the database column names.</span>
<span class="n">mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;updated&#39;</span><span class="p">:</span> <span class="s">&#39;last_updated&#39;</span><span class="p">,</span> <span class="s">&#39;jobid&#39;</span><span class="p">:</span> <span class="s">&#39;id&#39;</span><span class="p">}</span>

<span class="n">job_submitter</span> <span class="o">=</span> <span class="n">RemoteJobSubmitter</span><span class="p">(</span><span class="n">appName</span><span class="p">,</span> <span class="n">server</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">jobs</span> <span class="o">=</span> <span class="n">job_submitter</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">list_keys</span><span class="p">()</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">()</span>

<span class="k">for</span> <span class="n">jobid</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
    <span class="nb">hash</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">jobid</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s">&quot;_&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
      <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span> <span class="c"># In case the directory contains non-valid settings files</span>
      <span class="k">continue</span>

    <span class="c"># Remark it is important to put clean (third argument) to False here</span>
    <span class="c"># If this is not set to False any finished job will be deleted.</span>
    <span class="n">record</span> <span class="o">=</span> <span class="n">job_submitter</span><span class="o">.</span><span class="n">check_state</span><span class="p">(</span><span class="nb">hash</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

    <span class="n">setting_entries</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">,</span> <span class="p">[</span><span class="n">key</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">records</span><span class="p">])</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">setting_entries</span><span class="p">]</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">setting_entries</span><span class="p">]</span>
    <span class="n">record_dict</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">vals</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">db</span><span class="o">.</span><span class="n">get_record</span><span class="p">(</span><span class="n">jobid</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
       <span class="n">db</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">jobid</span><span class="p">,</span> <span class="n">record_dict</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
       <span class="n">db</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">jobid</span><span class="p">,</span> <span class="n">record_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>This code serves as an example and is not recommended to deploy for
pulling the jobs without further optimisations.
The above example will run slowly due to two
reasons:</p>
<p>1. There is made no check whether the database record is up-to-date
meaning that we update records that are all up-to-date every time we
check the status of the jobs.</p>
<p>2. As more an more jobs gets submitted to the server the list of key
entries becomes very large. It can therefore be beneficial to clean the
settings module for any keys that has been marked as cleaned. In order
to so add the following to your</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TODO</span>
</pre></div>
</div>
<p>cron script.</p>
<p>Be aware that the last optimisation will cause problems if several
databases are updated as a finished job may be deleted before it is pull
into all databases.</p>
</div>
</div>
<span id="document-api"></span><div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-api/terminal"></span><div class="section" id="core-pipeline-classes">
<h3>Core Pipeline Classes<a class="headerlink" href="#core-pipeline-classes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="module-batchq.core.communication">
<span id="basepipe"></span><h4>BasePipe<a class="headerlink" href="#module-batchq.core.communication" title="Permalink to this headline">¶</a></h4>
<p>This is some sort of docs??</p>
<dl class="class">
<dt id="batchq.core.communication.BasePipe">
<em class="property">class </em><tt class="descclassname">batchq.core.communication.</tt><tt class="descname">BasePipe</tt><big>(</big><em>pipe</em>, <em>expect_token</em>, <em>submit_token</em>, <em>mem_scale=1000.0</em>, <em>vt100=None</em>, <em>initiate_pipe=True</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="batchq.core.communication.BasePipe.buffer">
<tt class="descname">buffer</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the VT100 interpreted buffer.</p>
</dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.child_memory_usage">
<tt class="descname">child_memory_usage</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.child_memory_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.child_memory_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.consume_output">
<tt class="descname">consume_output</tt><big>(</big><em>pipe=None</em>, <em>consume_until=None</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.consume_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.consume_output" title="Permalink to this definition">¶</a></dt>
<dd><p>This function consumes output of the pipe which is separated
with no more than 10 ms and returns it.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.cpu_usage">
<tt class="descname">cpu_usage</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.cpu_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.cpu_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.expect">
<tt class="descname">expect</tt><big>(</big><em>val=None</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.expect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.expect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.initiate_pipe">
<tt class="descname">initiate_pipe</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.initiate_pipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.initiate_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a virtual function which is called 
at the end if the objects initiation. Its purpose is to initiate
the pipe with a series of commands.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.kill">
<tt class="descname">kill</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.kill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.memory_usage">
<tt class="descname">memory_usage</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.memory_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.memory_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.pid">
<tt class="descname">pid</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.pid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.pipe">
<tt class="descname">pipe</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.pipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.pipe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.pipe_buffer">
<tt class="descname">pipe_buffer</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.pipe_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.pipe_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the true pipe buffer.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.pop_expect">
<tt class="descname">pop_expect</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.pop_expect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.pop_expect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.pop_submit">
<tt class="descname">pop_submit</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.pop_submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.pop_submit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.push_expect">
<tt class="descname">push_expect</tt><big>(</big><em>expect_token</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.push_expect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.push_expect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.push_submit">
<tt class="descname">push_submit</tt><big>(</big><em>submit_token</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.push_submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.push_submit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.remaining">
<tt class="descname">remaining</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.remaining"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.remaining" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.send_command">
<tt class="descname">send_command</tt><big>(</big><em>cmd</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.send_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sends a command to the pipe, wait for the prompt
to appear and return the output.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.set_timeout">
<tt class="descname">set_timeout</tt><big>(</big><em>t</em><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.set_timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.set_timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.communication.BasePipe.terminate">
<tt class="descname">terminate</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.terminate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.total_memory_usage">
<tt class="descname">total_memory_usage</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.total_memory_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.total_memory_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.communication.BasePipe.vt100interpreter">
<tt class="descname">vt100interpreter</tt><a class="reference internal" href="_modules/batchq/core/communication.html#BasePipe.vt100interpreter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.communication.BasePipe.vt100interpreter" title="Permalink to this definition">¶</a></dt>
<dd><p>This property holds an instance of a <tt class="docutils literal"><span class="pre">VT100Interpreter</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-batchq.core.terminal">
<span id="vt100-terminal-interpreter"></span><h4>VT100 Terminal Interpreter<a class="headerlink" href="#module-batchq.core.terminal" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="batchq.core.terminal.PatternRegister">
<em class="property">class </em><tt class="descclassname">batchq.core.terminal.</tt><tt class="descname">PatternRegister</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#PatternRegister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.PatternRegister" title="Permalink to this definition">¶</a></dt>
<dd><p>This objects is a register for mapping keystrokes into functions. A
keystroke is added using the register method and the function is
retrieved using get_function.</p>
<dl class="method">
<dt id="batchq.core.terminal.PatternRegister.get_function">
<tt class="descname">get_function</tt><big>(</big><em>k</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#PatternRegister.get_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.PatternRegister.get_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a keystroke combination k, this function returns the
registered function. It returns None if no function is found.</p>
</dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.PatternRegister.re">
<tt class="descname">re</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#PatternRegister.re"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.PatternRegister.re" title="Permalink to this definition">¶</a></dt>
<dd><p>This property holds a regex pattern for identifying
keystrokes. The pattern is naive made, and thus, can easily be
optimised. However, the function is provided to enable fast
development.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.PatternRegister.register">
<tt class="descname">register</tt><big>(</big><em>*kwds</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#PatternRegister.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.PatternRegister.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a new keystroke.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="batchq.core.terminal.VT100Interpreter">
<em class="property">class </em><tt class="descclassname">batchq.core.terminal.</tt><tt class="descname">VT100Interpreter</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter" title="Permalink to this definition">¶</a></dt>
<dd><p>This object implements VT100 interpretation.</p>
<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.buffer">
<tt class="descname">buffer</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.clear_all_tabs">
<tt class="descname">clear_all_tabs</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.clear_all_tabs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.clear_all_tabs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.clear_tab">
<tt class="descname">clear_tab</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.clear_tab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.clear_tab" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.copy_echo">
<tt class="descname">copy_echo</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.copy_echo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.copy_echo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_back">
<tt class="descname">cursor_back</tt><big>(</big><em>count=1</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_back"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_down">
<tt class="descname">cursor_down</tt><big>(</big><em>count=1</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_down"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_down" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_force_position">
<tt class="descname">cursor_force_position</tt><big>(</big><em>line</em>, <em>char</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_force_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_force_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_forward">
<tt class="descname">cursor_forward</tt><big>(</big><em>count=1</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_forward" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_home">
<tt class="descname">cursor_home</tt><big>(</big><em>line=1</em>, <em>char=1</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_home"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_home" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_restore_attrs">
<tt class="descname">cursor_restore_attrs</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_restore_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_restore_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_save_attrs">
<tt class="descname">cursor_save_attrs</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_save_attrs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_save_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.cursor_up">
<tt class="descname">cursor_up</tt><big>(</big><em>count=1</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.cursor_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.cursor_up" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.delete">
<tt class="descname">delete</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.disable_line_wrap">
<tt class="descname">disable_line_wrap</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.disable_line_wrap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.disable_line_wrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.echo">
<tt class="descname">echo</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.echo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.echo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.enable_line_wrap">
<tt class="descname">enable_line_wrap</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.enable_line_wrap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.enable_line_wrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.erase_down">
<tt class="descname">erase_down</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.erase_down"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.erase_down" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.erase_end_of_line">
<tt class="descname">erase_end_of_line</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.erase_end_of_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.erase_end_of_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.erase_line">
<tt class="descname">erase_line</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.erase_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.erase_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.erase_screen">
<tt class="descname">erase_screen</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.erase_screen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.erase_screen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.erase_start_of_line">
<tt class="descname">erase_start_of_line</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.erase_start_of_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.erase_start_of_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.erase_up">
<tt class="descname">erase_up</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.erase_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.erase_up" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.escape_mode">
<tt class="descname">escape_mode</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.escape_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.escape_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.fix_buffer">
<tt class="descname">fix_buffer</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.fix_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.fix_buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.last_escape">
<tt class="descname">last_escape</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.last_escape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.last_escape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.linestart">
<tt class="descname">linestart</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.linestart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.linestart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.monitor">
<tt class="descname">monitor</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.monitor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.monitor_echo">
<tt class="descname">monitor_echo</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.monitor_echo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.monitor_echo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.move_monitor_cursors">
<tt class="descname">move_monitor_cursors</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.move_monitor_cursors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.move_monitor_cursors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.newline">
<tt class="descname">newline</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.newline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.newline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.put">
<tt class="descname">put</tt><big>(</big><em>c</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.core.terminal.VT100Interpreter.readable_echo">
<tt class="descname">readable_echo</tt><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.readable_echo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.readable_echo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.reset_device">
<tt class="descname">reset_device</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.reset_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.reset_device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.scroll_constrain">
<tt class="descname">scroll_constrain</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.scroll_constrain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.scroll_constrain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.scroll_down">
<tt class="descname">scroll_down</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.scroll_down"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.scroll_down" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.scroll_screen">
<tt class="descname">scroll_screen</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.scroll_screen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.scroll_screen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.scroll_screen_rows">
<tt class="descname">scroll_screen_rows</tt><big>(</big><em>rs</em>, <em>re</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.scroll_screen_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.scroll_screen_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.scroll_up">
<tt class="descname">scroll_up</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.scroll_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.scroll_up" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.set_alt_font">
<tt class="descname">set_alt_font</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.set_alt_font"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.set_alt_font" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.set_default_font">
<tt class="descname">set_default_font</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.set_default_font"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.set_default_font" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.set_display_attr">
<tt class="descname">set_display_attr</tt><big>(</big><em>attributes</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.set_display_attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.set_display_attr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.set_mark">
<tt class="descname">set_mark</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.set_mark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.set_mark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.set_mode">
<tt class="descname">set_mode</tt><big>(</big><em>mode</em>, <em>property</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.set_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.set_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.set_tab">
<tt class="descname">set_tab</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.set_tab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.set_tab" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.unknown1">
<tt class="descname">unknown1</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.unknown1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.unknown1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.write">
<tt class="descname">write</tt><big>(</big><em>str</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.core.terminal.VT100Interpreter.writeChar">
<tt class="descname">writeChar</tt><big>(</big><em>c</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#VT100Interpreter.writeChar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.VT100Interpreter.writeChar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="batchq.core.terminal.convert_to_int">
<tt class="descclassname">batchq.core.terminal.</tt><tt class="descname">convert_to_int</tt><big>(</big><em>x</em><big>)</big><a class="reference internal" href="_modules/batchq/core/terminal.html#convert_to_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.terminal.convert_to_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<span id="document-api/shell_terminals"></span><div class="section" id="shell-pipelines">
<h3>Shell Pipelines<a class="headerlink" href="#shell-pipelines" title="Permalink to this headline">¶</a></h3>
<p>BatchQ comes with a number of predefined pipelines. Included in these
are three shells, <tt class="docutils literal"><span class="pre">BashTerminal</span></tt>, <tt class="docutils literal"><span class="pre">SSHTerminal</span></tt> and
<tt class="docutils literal"><span class="pre">SFTPTerminal</span></tt>, and one shell based class <tt class="docutils literal"><span class="pre">FileCommander</span></tt>.</p>
<div class="section" id="module-batchq.pipelines.shell.bash">
<span id="bash-terminal"></span><h4>Bash terminal<a class="headerlink" href="#module-batchq.pipelines.shell.bash" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="batchq.pipelines.shell.bash.BashTerminal">
<em class="property">class </em><tt class="descclassname">batchq.pipelines.shell.bash.</tt><tt class="descname">BashTerminal</tt><big>(</big><em>pipe=None</em>, <em>expect_token='#--&gt;'</em>, <em>submit_token='n'</em>, <em>path_module=None</em>, <em>initiate_pipe=True</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal" title="Permalink to this definition">¶</a></dt>
<dd><p>Unless another pipe is supplied this constructor opens bash and
sets the path module along with the expectation token and the
submit token. The expectation token is the prompt characters and should be
chosen such that one would not expect it to appear in any output
of any of the executed programs. The token is set in
<tt class="docutils literal"><span class="pre">BashTerminal.initiate_pipe()</span></tt> which is called if <tt class="docutils literal"><span class="pre">initiate_pipe</span>
<span class="pre">=</span> <span class="pre">True</span></tt> (default). The submit token is the token that will be send
to the pipe after the command has been sent and the command echo has been
consumed. For a normal bash terminal this is simply <tt class="docutils literal"><span class="pre">\n</span></tt>.</p>
<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.cat">
<tt class="descname">cat</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.cat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contents of a file.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.chdir">
<tt class="descname">chdir</tt><big>(</big><em>dir</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the current working directory into dir.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.command_exists">
<tt class="descname">command_exists</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.command_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.command_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a commmand exists in the environment path or not.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.cp">
<tt class="descname">cp</tt><big>(</big><em>source</em>, <em>dest</em>, <em>recursively=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.cp" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies source to dest. If recursive is set to True directories
are recursively copied.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.directory_hash">
<tt class="descname">directory_hash</tt><big>(</big><em>dir</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.directory_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.directory_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.dirname">
<tt class="descname">dirname</tt><big>(</big><em>object</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.dirname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.dirname" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tries to retrieve the directory name of object and
resolve all symlinks.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.echo">
<tt class="descname">echo</tt><big>(</big><em>msg</em>, <em>output=None</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.echo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.echo" title="Permalink to this definition">¶</a></dt>
<dd><p>Echo a message to output. If output is None, then echo is undirected.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.exists">
<tt class="descname">exists</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">path</span></tt> is either a directory or a file.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.file_hash">
<tt class="descname">file_hash</tt><big>(</big><em>filename</em>, <em>check_file=True</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.file_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.file_hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.format_path">
<tt class="descname">format_path</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.format_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.format_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.hash">
<tt class="descname">hash</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.hash" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.pipelines.shell.bash.BashTerminal.hasher">
<tt class="descname">hasher</tt><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.hasher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.hasher" title="Permalink to this definition">¶</a></dt>
<dd><p>This property returns a tuple containing the bash command for
doing a hash, the corresponding Python routine (as string) and a
regex pattern that matches the hash.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.home">
<tt class="descname">home</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.home"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.home" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.initiate_pipe">
<tt class="descname">initiate_pipe</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.initiate_pipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.initiate_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>This function evaluates the commands that will be unique for our
bash session. This functions changes the promt such that it will
be the same independently of the user.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.isdir">
<tt class="descname">isdir</tt><big>(</big><em>dir</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.isdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.isdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">dir</span></tt> is a directory.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.isfile">
<tt class="descname">isfile</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.isfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.isfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">filename</span></tt> is a file.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.isrunning">
<tt class="descname">isrunning</tt><big>(</big><em>pid</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.isrunning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.isrunning" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if the <tt class="docutils literal"><span class="pre">pid</span></tt> is found in the systems process list.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.last_exitcode">
<tt class="descname">last_exitcode</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.last_exitcode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.last_exitcode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the exit code of the last started proccess. If this is
not possible <tt class="docutils literal"><span class="pre">None</span></tt> is returned.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.last_modified">
<tt class="descname">last_modified</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.last_modified"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.last_modified" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the last modification time of the given
directory or file.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.last_pid">
<tt class="descname">last_pid</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.last_pid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.last_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pid of the last started proccess. If this is
not possible 0 is returned.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.list">
<tt class="descname">list</tt><big>(</big><em>dir='.'</em>, <em>recursively=True</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.list" title="Permalink to this definition">¶</a></dt>
<dd><p>List files in directory.</p>
<p>Warning! If recursively is True, all subdirectories are included
(also hidden ones, i.e. staring with &#8216;.&#8217;). Consequently, this
command will execute extremely slowly if many levels of
recursion occur.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.mkdir">
<tt class="descname">mkdir</tt><big>(</big><em>dir</em>, <em>create_intermediate=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.mkdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.mkdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.pipelines.shell.bash.BashTerminal.path">
<tt class="descname">path</tt><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.path" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the path object for the system on which
the terminal runs. This function is
implemented as a matter of convience as different terminals may
be based on different standards. You can for instance not rely on
os.path when controlling SSH from a Windows machine.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.popd">
<tt class="descname">popd</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.popd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.popd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.pushd">
<tt class="descname">pushd</tt><big>(</big><em>dir</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.pushd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.pushd" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the current working directory into dir.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.pwd">
<tt class="descname">pwd</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.pwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.pwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.rm">
<tt class="descname">rm</tt><big>(</big><em>path</em>, <em>force=False</em>, <em>recursively=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.rm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.rm" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the path on the file system.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.set_permission">
<tt class="descname">set_permission</tt><big>(</big><em>file</em>, <em>permissions</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.set_permission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.set_permission" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.bash.BashTerminal.whoami">
<tt class="descname">whoami</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/bash.html#BashTerminal.whoami"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.bash.BashTerminal.whoami" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes <tt class="docutils literal"><span class="pre">whoami</span></tt> in the terminal and returns the result.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-batchq.pipelines.shell.ssh">
<span id="ssh-terminal"></span><h4>SSH terminal<a class="headerlink" href="#module-batchq.pipelines.shell.ssh" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="batchq.pipelines.shell.ssh.BaseSecureTerminal">
<em class="property">class </em><tt class="descclassname">batchq.pipelines.shell.ssh.</tt><tt class="descname">BaseSecureTerminal</tt><big>(</big><em>server</em>, <em>username</em>, <em>password</em>, <em>port=22</em>, <em>accept_figerprint=False</em>, <em>command='ssh'</em>, <em>port_option='-p %d'</em>, <em>expect_token='#--&gt;'</em>, <em>submit_token='n'</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/ssh.html#BaseSecureTerminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.ssh.BaseSecureTerminal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="batchq.pipelines.shell.ssh.BaseSecureTerminalLoginError">
<em class="property">exception </em><tt class="descclassname">batchq.pipelines.shell.ssh.</tt><tt class="descname">BaseSecureTerminalLoginError</tt><a class="reference internal" href="_modules/batchq/pipelines/shell/ssh.html#BaseSecureTerminalLoginError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.ssh.BaseSecureTerminalLoginError" title="Permalink to this definition">¶</a></dt>
<dd><p>This exception is thrown by secure terminals whenever login attempts
has failed or when acceptence of fingerprints is required but not
allowed.</p>
</dd></dl>

<dl class="class">
<dt id="batchq.pipelines.shell.ssh.SSHTerminal">
<em class="property">class </em><tt class="descclassname">batchq.pipelines.shell.ssh.</tt><tt class="descname">SSHTerminal</tt><big>(</big><em>server</em>, <em>username</em>, <em>password</em>, <em>port=22</em>, <em>accept_figerprint=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/ssh.html#SSHTerminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.ssh.SSHTerminal" title="Permalink to this definition">¶</a></dt>
<dd><p>The object will be initiated as first as a BaseSecureTerminal and
secondly as a BashTerminal. The order of the inheritance is important
as the constructor which is called first will open the pipe
(i.e. either SSH or Bash). Moreover, the SSHTerminal inherits
all the functionality of the bash terminal (which makes sense as it
just is a remote bash terminal after successful login).</p>
<p>Following code gives an example of how the SSH Terminal may be used
to pull out a list of files and directories:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">getpass</span>
<span class="n">server</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Server:&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">server</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span> <span class="n">server</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span>
<span class="n">username</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
<span class="k">while</span> <span class="n">username</span> <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">:</span>  <span class="n">username</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Username:&quot;</span><span class="p">)</span>
<span class="n">pas</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">SSHTerminal</span><span class="p">(</span><span class="n">server</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">pas</span><span class="p">)</span>

<span class="n">files</span><span class="p">,</span> <span class="n">dirs</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">recursively</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">pwd</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">pwd</span><span class="p">()</span>

<span class="k">print</span> <span class="s">&quot;On&quot;</span><span class="p">,</span> <span class="n">server</span><span class="p">,</span> <span class="s">&quot;is following files &quot;</span>
<span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
   <span class="k">print</span> <span class="s">&quot;     -&quot;</span><span class="p">,</span> <span class="nb">file</span>

<span class="k">print</span> <span class="s">&quot;and following directories&quot;</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dirs</span><span class="p">:</span>
   <span class="k">print</span> <span class="s">&quot;     -&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span><span class="s">&quot;.&quot;</span>

<span class="k">print</span> <span class="s">&quot;in&quot;</span><span class="p">,</span> <span class="n">pwd</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-batchq.pipelines.shell.sftp">
<span id="sftp-terminal"></span><h4>SFTP terminal<a class="headerlink" href="#module-batchq.pipelines.shell.sftp" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal">
<em class="property">class </em><tt class="descclassname">batchq.pipelines.shell.sftp.</tt><tt class="descname">SFTPTerminal</tt><big>(</big><em>server</em>, <em>username</em>, <em>password</em>, <em>port=22</em>, <em>accept_figerprint=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.chdir">
<tt class="descname">chdir</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.chdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.getfile">
<tt class="descname">getfile</tt><big>(</big><em>local_file</em>, <em>remote_file</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.getfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.getfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.initiate_pipe">
<tt class="descname">initiate_pipe</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.initiate_pipe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.initiate_pipe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.local_chdir">
<tt class="descname">local_chdir</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.local_chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.local_chdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.local_pwd">
<tt class="descname">local_pwd</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.local_pwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.local_pwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.pwd">
<tt class="descname">pwd</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.pwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.pwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.sftp.SFTPTerminal.sendfile">
<tt class="descname">sendfile</tt><big>(</big><em>local_file</em>, <em>remote_file</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/sftp.html#SFTPTerminal.sendfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.sftp.SFTPTerminal.sendfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-batchq.pipelines.shell.utils">
<span id="filecommander"></span><h4>FileCommander<a class="headerlink" href="#module-batchq.pipelines.shell.utils" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="batchq.pipelines.shell.utils.FileCommander">
<em class="property">class </em><tt class="descclassname">batchq.pipelines.shell.utils.</tt><tt class="descname">FileCommander</tt><big>(</big><em>server=None</em>, <em>username=''</em>, <em>password=''</em>, <em>port=22</em>, <em>accept_figerprint=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileCommander"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander" title="Permalink to this definition">¶</a></dt>
<dd><p>FileCommander provides an easy-to-use interface for transfering 
files as well as access both the local and the remote file system. It 
performs common operations such compare directories in the local and
remote views as well as syncronising them.</p>
<p>The local and remote terminals can be access through the property
FileCommander.local and FileCommander.remote, respectively, which
are both instances of the BashTerminal.</p>
<dl class="attribute">
<dt id="batchq.pipelines.shell.utils.FileCommander.MODE_LOCAL_REMOTE">
<tt class="descname">MODE_LOCAL_REMOTE</tt><em class="property"> = 1</em><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander.MODE_LOCAL_REMOTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="batchq.pipelines.shell.utils.FileCommander.MODE_REMOTE_LOCAL">
<tt class="descname">MODE_REMOTE_LOCAL</tt><em class="property"> = 2</em><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander.MODE_REMOTE_LOCAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileCommander.diff">
<tt class="descname">diff</tt><big>(</big><em>local_dir='.'</em>, <em>remote_dir='.'</em>, <em>recursive=True</em>, <em>mode=3</em>, <em>absolute_path=False</em>, <em>ignore_hidden=True</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileCommander.diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare local and remote directories, recursively <tt class="docutils literal"><span class="pre">recursive</span> <span class="pre">=</span>
<span class="pre">True</span></tt> (default),  by computing a hash of each file.  
Depending on wether <tt class="docutils literal"><span class="pre">mode</span></tt> is set to
<tt class="docutils literal"><span class="pre">FileCommander.MODE_LOCAL_REMOTE</span></tt> or <tt class="docutils literal"><span class="pre">FileCommander.MODE_REMOTE_LOCAL</span></tt>  
two lists are returned with files and directories that are
out-of-date, or missing. As standard, hidden files are
ignored. To include hidden files  set <tt class="docutils literal"><span class="pre">ignore_hidden</span> <span class="pre">=</span>
<span class="pre">False</span></tt>. By default, paths returned are relative, but if
<tt class="docutils literal"><span class="pre">absolute_path</span> <span class="pre">=</span> <span class="pre">True</span></tt> they are converted into absolute paths.</p>
</dd></dl>

<dl class="attribute">
<dt id="batchq.pipelines.shell.utils.FileCommander.local">
<tt class="descname">local</tt><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileCommander.local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander.local" title="Permalink to this definition">¶</a></dt>
<dd><p>This property returns an instance of <tt class="docutils literal"><span class="pre">BashTerminal</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="batchq.pipelines.shell.utils.FileCommander.remote">
<tt class="descname">remote</tt><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileCommander.remote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander.remote" title="Permalink to this definition">¶</a></dt>
<dd><p>This property returns an instance of <tt class="docutils literal"><span class="pre">SSHTerminal</span></tt> connected
to the remote machine if server was different than <tt class="docutils literal"><span class="pre">None</span></tt> in
the constructor. Otherwise, an instance of <tt class="docutils literal"><span class="pre">BashTerminal</span></tt> is returned.</p>
</dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileCommander.sync">
<tt class="descname">sync</tt><big>(</big><em>local_dir='.'</em>, <em>remote_dir='.'</em>, <em>recursive=True</em>, <em>mode=3</em>, <em>ignore_hidden=True</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileCommander.sync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileCommander.sync" title="Permalink to this definition">¶</a></dt>
<dd><p>This function compares a local and a remote directory and
transfer missing files in one direction depending on the mode
(which can either be <tt class="docutils literal"><span class="pre">FileCommander.MODE_LOCAL_REMOTE</span></tt> or
<tt class="docutils literal"><span class="pre">FileCommander.MODE_REMOTE_LOCAL</span></tt>). Note this function ignores the
creation/modification date of the file or directory.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal">
<em class="property">class </em><tt class="descclassname">batchq.pipelines.shell.utils.</tt><tt class="descname">FileTransferTerminal</tt><big>(</big><em>server=None</em>, <em>username=''</em>, <em>password=''</em>, <em>port=22</em>, <em>accept_figerprint=False</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal" title="Permalink to this definition">¶</a></dt>
<dd><p>This object is similar to SFTPTerminal if server, username and
password are passed to the constructor. If server=None, this class
implements the SFTPTerminal operations for the for local file
system. Wether a FileTransferTerminal class is working on the local
filesystem or not can be checked with FileTransferTerminal.islocal().</p>
<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.chdir">
<tt class="descname">chdir</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.chdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.getfile">
<tt class="descname">getfile</tt><big>(</big><em>local_file</em>, <em>remote_file</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.getfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.getfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.islocal">
<tt class="descname">islocal</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.islocal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.islocal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.local_chdir">
<tt class="descname">local_chdir</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.local_chdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.local_chdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.local_pwd">
<tt class="descname">local_pwd</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.local_pwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.local_pwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.pwd">
<tt class="descname">pwd</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.pwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.pwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="batchq.pipelines.shell.utils.FileTransferTerminal.sendfile">
<tt class="descname">sendfile</tt><big>(</big><em>local_file</em>, <em>remote_file</em><big>)</big><a class="reference internal" href="_modules/batchq/pipelines/shell/utils.html#FileTransferTerminal.sendfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.pipelines.shell.utils.FileTransferTerminal.sendfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<span id="document-api/math_terminals"></span><div class="section" id="math-terminals">
<h3>Math Terminals<a class="headerlink" href="#math-terminals" title="Permalink to this headline">¶</a></h3>
</div>
<span id="document-api/batch"></span><div class="section" id="module-batchq.core.batch">
<span id="batch-model"></span><h3>Batch Model<a class="headerlink" href="#module-batchq.core.batch" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="batchq.core.batch.BaseField">
<em class="property">class </em><tt class="descclassname">batchq.core.batch.</tt><tt class="descname">BaseField</tt><a class="reference internal" href="_modules/batchq/core/batch.html#BaseField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.batch.BaseField" title="Permalink to this definition">¶</a></dt>
<dd><p>The base field is the base class for fields in a BatchQ model.</p>
</dd></dl>

<dl class="class">
<dt id="batchq.core.batch.BatchQ">
<em class="property">class </em><tt class="descclassname">batchq.core.batch.</tt><tt class="descname">BatchQ</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/batchq/core/batch.html#BatchQ"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.batch.BatchQ" title="Permalink to this definition">¶</a></dt>
<dd><p>The BatchQ object is the ancestor to a specific BatchQ model.</p>
</dd></dl>

<dl class="class">
<dt id="batchq.core.batch.Property">
<em class="property">class </em><tt class="descclassname">batchq.core.batch.</tt><tt class="descname">Property</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/batchq/core/batch.html#Property"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batchq.core.batch.Property" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a property of an instance of BatchQ.</p>
</dd></dl>

</div>
</div>
</div>
</div>
<p>Indices and tables</p>
<hr class="docutils" />
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-introduction">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#dependencies-and-compatibility">Dependencies and Compatibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#note-for-windows-users">Note for Windows users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-user/intro">Users Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#using-the-command-line-tool">Using the command line tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#available-modules">Available modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#submitting-jobs">Submitting jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#creating-configuration-files">Creating configuration files</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#retrieving-results">Retrieving results</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-submitting-alps-jobs-using-nohup">Example: Submitting ALPS jobs using nohup</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-submitting-alps-jobs-using-lsf">Example: Submitting ALPS jobs using LSF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#using-python">Using Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#id1">Submitting jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id2">Retrieving results</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id3">Example: Submitting ALPS jobs using nohup</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id4">Example: Submitting ALPS jobs using LSF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#using-vistrails">Using VisTrails</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#id5">Submitting jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id6">Retrieving results</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id7">Example: Submitting ALPS jobs using nohup</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id8">Example: Submitting ALPS jobs using LSF</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tutorial">Developer: Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#processes-and-pipes">Processes and Pipes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#pipelines">Pipelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#batchq-basics">BatchQ Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-hello-world">Example: Hello world</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-hello-parameter">Example: Hello parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-hello-error-i">Example: Hello error I</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-hello-error-ii">Example: Hello error II</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-function-inheritance">Example: Function Inheritance</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-function-calls">Example: Function Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#wildcards">Wildcards</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-createfile">Example: CreateFile</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#built-in-do-function">Built-in Do-function</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-createfileanddirectory">Example: CreateFileAndDirectory</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-short-version">Example: Short version</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#overwriting-controllers">Overwriting Controllers</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#example-createfilessh">Example: CreateFileSSH</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tutorial_nhup">Tutorial: nohup Remote Submission</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#basic-functionality">Basic functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#full-functionality">Full functionality</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tutorial_bsub">Tutorial: LSF Remote Submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-webinterface">Remote Jobs using Django</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#dependencies-and-preliminary-notes">Dependencies and preliminary notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#starting-a-local-server">Starting a local server</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#webinterface">Webinterface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#remote-jobs-with-custom-database">Remote Jobs with custom database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#pulling-settings-entries">Pulling settings entries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-api">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-api/terminal">Core Pipeline Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#module-batchq.core.communication">BasePipe</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#module-batchq.core.terminal">VT100 Terminal Interpreter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-api/shell_terminals">Shell Pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#module-batchq.pipelines.shell.bash">Bash terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#module-batchq.pipelines.shell.ssh">SSH terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#module-batchq.pipelines.shell.sftp">SFTP terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#module-batchq.pipelines.shell.utils">FileCommander</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-api/math_terminals">Math Terminals</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-api/batch">Batch Model</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="#">Remote Jobs 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Troels F. Rønnow.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.
    </div>
  </body>
</html>